<?xml version="1.0" encoding="UTF-8"?>
<opt:main xmlns:opt="http://www.jppf.org/Options.xsd" name="PreviewTool" type="page">

	<property name="label" value="Preview XML-based Page"/>
	<property name="scrollable" value="false"/>
	<property name="orientation" value="vertical"/>
	<property name="bordered" value="false"/>
	<property name="main" value="true"/>

	<!-- ===================================================================== -->
	<!--           Server bundle size manual configuration area                -->
	<!-- ===================================================================== -->

	<child name="SelPreviewPanel" type="page">

		<property name="label" value="Selection and Preview"/>
		<property name="scrollable" value="false"/>
		<property name="orientation" value="vertical"/>
		<property name="bordered" value="true"/>
		<property name="main" value="false"/>
		<script language="javascript"><![CDATA[
			importPackage(Packages.org.jppf.ui.options.xml);
			importPackage(Packages.org.jppf.ui.options);
			function doAction()
			{
				file = option.findFirstWithName("/SelectFile");
				s = file.getValue();
				var builder = new OptionsPageBuilder();
				page = builder.buildPage(s);
				pp = option.findFirstWithName("/PreviewPanel");
				list = new java.util.ArrayList(pp.getChildren());
				for (i=0; i<list.size(); i++) pp.remove(list.get(i));
				pp.add(page);
				pp.add(new FillerOption(1, 1));
				pp.getUIComponent().updateUI();
			}
		]]></script>

		<child name="BtnPanel" type="page">
	
			<property name="label" value="Button Panel"/>
			<property name="scrollable" value="false"/>
			<property name="orientation" value="horizontal"/>
			<property name="bordered" value="false"/>
			<property name="main" value="false"/>

			<child name="filler" type="Filler">
				<property name="width" value="1"/>
				<property name="height" value="1"/>
			</child>

			<child name="Preview" type="Button">
				<property name="label" value="Preview"/>
				<property name="tooltip" value="Displays a preview of the selected XML file in a separate frame"/>
				<listener type="script">
					<script language="javascript"><![CDATA[ doAction(); ]]></script>
				</listener>
			</child>

			<child name="filler" type="Filler">
				<property name="width" value="1"/>
				<property name="height" value="1"/>
			</child>

		</child>

		<child name="SelectFile" type="FileChooser">
			<property name="label" value="Select file"/>
			<property name="tooltip" value="Select the file to preview"/>
			<property name="value" value="../admin/src/resources/org/jppf/ui/options/xml/PreviewTool.xml"/>
			<property name="extensions" value="xml; XML Files (*.xml)"/>
			<property name="orientation" value="horizontal"/>
			<property name="type" value="open"/>
			<listener type="script">
				<script language="javascript"><![CDATA[ doAction(); ]]></script>
			</listener>
		</child>

	</child>

	<child name="PreviewPanel" type="page">
		<property name="label" value="Preview"/>
		<property name="scrollable" value="true"/>
		<property name="orientation" value="vertical"/>
		<property name="bordered" value="true"/>
		<property name="main" value="false"/>
	</child>

</opt:main>
