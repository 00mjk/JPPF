<?xml version="1.0" encoding="UTF-8"?>
<!--
	JPPF.
	 Copyright (C) 2005-2009 JPPF Team. 
	http://www.jppf.org

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

		 http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
-->

<opt:main xmlns:opt="http://www.jppf.org/Options.xsd" name="Admin" type="page">
	<property name="label" value="Admin"/>
	<property name="scrollable" value="true"/>
	<property name="layoutConstraints" value="fill, flowy"/>
	<property name="componentConstraints" value="growx"/>
	<property name="tooltip" value="Perform the remote administration of the server"/>
	<script language="groovy">BASE = "org.jppf.ui.i18n.AdminPage";</script>
	<script language="groovy" source="org/jppf/ui/options/xml/admin.groovy"/>

	<!-- ===================================================================== -->
	<!--                   Top Panels                                          -->
	<!-- ===================================================================== -->
	
	<child name="AdminCommands" type="page">
		<property name="label" value="Admin Commands"/>
		<property name="layoutConstraints" value="fillx"/>
		<property name="componentConstraints" value="growx, growy 0"/>

		<!-- ===================================================================== -->
		<!--                Server shutdown/restart area                           -->
		<!-- ===================================================================== -->
	
		<child name="Server" type="page">
			<property name="label" value="Server Shutdown / Restart"/>
			<property name="layoutConstraints" value="fill, flowy"/>
			<property name="componentConstraints" value="grow"/>
			<property name="bordered" value="true"/>
			<property name="tooltip" value="Stop and restart the server using the specified delays"/>
	
			<child name="Perform_Now" type="Button">
				<property name="label" value="Perform Now"/>
				<property name="tooltip" value="Sends the shutdown and/or restart request to the server"/>
				<property name="componentConstraints" value="growx 0, align left"/>
				<listener type="script">
					<script language="groovy">doPerform_Now()</script>
				</listener>
			</child>
	
			<child name="Shutdown_delay" type="FormattedNumber">
				<property name="label" value="Shutdown delay"/>
				<property name="tooltip" value="delay, in milliseconds, before the server starts shutting down"/>
				<property name="value" value="3000"/>
				<property name="pattern" value="###,###,##0"/>
				<property name="persistent" value="true"/>
			</child>
	
			<child name="Restart" type="Boolean">
				<property name="label" value="Restart"/>
				<property name="tooltip" value="Determines whether the server should be restarted"/>
				<property name="value" value="true"/>
				<property name="persistent" value="true"/>
				<listener type="script">
					<script language="groovy">option.findElement("../Restart_delay").setEnabled(option.getValue().booleanValue())</script>
				</listener>
			</child>
	
			<child name="Restart_delay" type="FormattedNumber">
				<property name="label" value="Restart delay"/>
				<property name="tooltip" value="delay, in milliseconds, before the server is restarted"/>
				<property name="value" value="3000"/>
				<property name="pattern" value="###,###,##0"/>
				<property name="persistent" value="true"/>
			</child>
	
		</child>
	
		<!-- ===================================================================== -->
		<!--          Data Refresh interval configuration area                     -->
		<!-- ===================================================================== -->
	
		<child name="AdminPreferences" type="page">
			<property name="label" value="Monitor"/>
			<property name="layoutConstraints" value="fill, flowy"/>
			<property name="componentConstraints" value="grow"/>
			<property name="bordered" value="true"/>
	
			<child name="Interval" type="FormattedNumber">
				<property name="label" value="Refresh interval (ms)"/>
				<property name="tooltip" value="The time interval, in milliseconds, between servers requests to refresh the statistics"/>
				<property name="value" value="1000"/>
				<property name="pattern" value="###,###,##0"/>
				<property name="persistent" value="true"/>
			</child>
	
			<child name="ApplyInterval" type="Button">
				<property name="label" value="Apply"/>
				<property name="tooltip" value="Apply the new interval value immediately"/>
				<property name="componentConstraints" value="growx 0"/>
				<listener type="script">
					<script language="groovy">doApplyInterval()</script>
				</listener>
			</child>

		</child>

		<child name="filler" type="page">
			<property name="componentConstraints" value="growx, pushx"/>
		</child>

	</child>

	<!-- ===================================================================== -->
	<!--                   Server messages area                                -->
	<!-- ===================================================================== -->

	<child name="msgText" type="TextArea">
		<property name="label" value="Server Messages"/>
		<property name="tooltip" value="Feedback messages received from the server"/>
		<property name="value" value=""/>
		<property name="componentConstraints" value="grow, push"/>
	</child>

</opt:main>
